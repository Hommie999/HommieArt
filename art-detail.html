<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏•‡∏á‡∏≤‡∏ô</title>
  <!-- CSS -->
  <link rel="stylesheet" href="CSS/theme.css" />
  <link rel="stylesheet" href="CSS/art-detail.css" />
  <link rel="icon" type="image/ico" href="image/Gai.png">
  <!-- Javascript -->
  <script src="JS/script.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <!-- ‡πÅ‡∏ñ‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á -->
  <div id="navbar"></div>

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö -->
  <div class="back-button">
    <a href="artwork.html"><i class="fas fa-arrow-left"></i> ‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ</a>
  </div>

  <!-- ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô -->
  <div id="artwork-detail" class="artwork-detail">
    <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏ú‡∏•‡∏á‡∏≤‡∏ô... üé®</p>
  </div>

  <!-- JavaScript -->
  <script>
  // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ id ‡∏à‡∏≤‡∏Å URL
const urlParams = new URLSearchParams(window.location.search);
const artworkId = urlParams.get('id');

if (!artworkId) {
  document.getElementById('artwork-detail').innerHTML = 
    '<p class="error">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏á‡∏≤‡∏ô</p>';
} else {
  // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏á‡∏≤‡∏ô
  fetch('artwork.json')
    .then(response => response.json())
    .then(artworks => {
      const artwork = artworks.find(art => art.id === artworkId);
      
      if (!artwork) {
        document.getElementById('artwork-detail').innerHTML = 
          '<p class="error">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ</p>';
        return;
      }

      // ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML
      let html = `
        <h1 class="artwork-title">${artwork.title}</h1>
        <div class="artwork-meta">${artwork.date} ‚Ä¢ ${artwork.year}</div>
        <img src="${artwork.mainImage}" alt="${artwork.title}" class="artwork-main-image">
        <div class="artwork-description">${artwork.description}</div>
      `;

      // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
      if (artwork.processImages && artwork.processImages.length > 0) {
        html += `
          <div class="process-section">
            <h3>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</h3>
            <div class="process-grid">
              ${artwork.processImages.map(img => 
                `<img src="${img}" alt="Process">`
              ).join('')}
            </div>
          </div>
        `;
      }

      // ‡∏•‡∏π‡∏Å‡∏®‡∏£‡πÑ‡∏õ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ/‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
      const currentIndex = artworks.findIndex(art => art.id === artworkId);
      const prevArt = currentIndex > 0 ? artworks[currentIndex - 1] : null;
      const nextArt = currentIndex < artworks.length - 1 ? artworks[currentIndex + 1] : null;

      html += `<div class="nav-arrows">`;
      if (prevArt) {
        html += `<a href="art-detail.html?id=${prevArt.id}"><i class="fas fa-arrow-left"></i> ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</a>`;
      } else {
        html += `<span></span>`;
      }
      if (nextArt) {
        html += `<a href="art-detail.html?id=${nextArt.id}">‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <i class="fas fa-arrow-right"></i></a>`;
      } else {
        html += `<span></span>`;
      }
      html += `</div>`;

      document.getElementById('artwork-detail').innerHTML = html;
    })
    .catch(error => {
      console.error('Error:', error);
      document.getElementById('artwork-detail').innerHTML = 
        '<p class="error">‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>';
    });
}</script>
</body>
</html>